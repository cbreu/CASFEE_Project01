<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>TaskManager</title>
        <link rel="icon" type="image/png" href="static/media/taskmanager.png" />
        <link rel="stylesheet" href="static/css/standard.css" type="text/css">
    </head>
    <body>
        <header class="header">
            <div id="newTask">
                <input type="button" id="newButton" class="headerText" value="New Task" onclick="main.taskNew()">
            </div>
            <div id="uiBlock">
                <div id="sortField" class="ui">
                    <span>Sort</span>
                    <input type="radio" id="sortDueDate" name="sortchoose" value="duedate" checked="checked" onclick="storageManager.dataLoad()">
                    <label for="sortDueDate">by due date</label>
                    <input type="radio" id="sortCreationDate" name="sortchoose" value="creationdate" onclick="storageManager.dataLoad()">
                    <label for="sortCreationDate">by creation date</label>
                    <input type="radio" id="sortImportance" name="sortchoose" value="importance" onclick="storageManager.dataLoad()">
                    <label for="sortImportance">by importance</label>
                </div>
                <div id="hideField" class="ui">
                    <span>Hide</span>
                    <input type="checkbox" id="hide" name="hidechoose" value="hide" checked="checked" onclick="storageManager.dataLoad()">
                    <label for="hide">completed</label>
                </div>
                <div id="styleField"  class="ui">
                    <span>Style</span>
                    <input type="radio" id="styleStandard" name="styleChooser" value="static/css/standard.css" checked="checked" onclick="ui.toggleStyleSetting(this)">
                    <label for="styleStandard" id="labelStyleStandard" class="label">Standard</label>
                    <input type="radio" id="styleDark" name="styleChooser" value="static/css/dark.css" onclick="ui.toggleStyleSetting(this)">
                    <label for="styleDark" id="labelStyleDark">Dark</label>
                </div>
            </div>
        </header>
        <div id="tasks"></div>
        <script id="tasks-template" type="text/x-handlebars-template">
            {{#each tasksToShow}}
                <div id="singleTask">
                    <div id="taskParts">
                        <div id="completeTime">
                            <div>
                                <span>Due: {{this.dueDateString}}</span>
                            </div>
                            {{#if this.done}}
                                <div id="checkboxTaskCoplete1">
                                    <input type="checkbox" id="taskComplete1" value="doneChebox" name="taskComplete" checked="checked" onclick="return false">
                                    <label for="taskComplete1"> Complete</label>
                                </div>
                            {{else}}
                                <div id="checkboxTaskCoplete">
                                    <input type="checkbox" id="taskComplete2" value="doneChebox" name="taskComplete" onclick="return false">
                                    <label for="taskComplete2"> Complete</label>
                                </div>
                            {{/if}}
                        </div>
                        <div id="taskTitleText">
                            <div id="taskTitle">
                                <span>{{this.title}}</span>
                                <span>{{this.importanceString}}</span>
                            </div>
                            <div class="inputField" id="taskText">
                                <textarea id="taskTextarea" name="taskText" readonly="readonly">{{this.text}}</textarea>
                                <label for="taskTextarea"></label>
                            </div>
                        </div>
                    </div>
                    <div id="editTask">
                        <input type="button" id="editTaskButton" value="Edit" onclick="main.taskEdit({{this._id}})">
                        <label for="editTaskButton"></label>
                    </div>
                </div>
            {{/each}}
        </script>
        <script id="taskDetail-template" type="text/x-handlebars-template">
            <header class="header" id="taskDetailTitle">
                <div id="titleBar">
                    <span>Task detail</span>
                </div>
            </header>
            {{#each singleTask}}
                <div id="taskDetail">
                    <div class="inputField">
                        <label for="taskDetailTitel">Subject</label>
                        <textarea id="taskDetailTitel" class="titleText" maxlength="100">{{this.title}}</textarea>
                    </div>
                    <div class="inputField">
                        <label for="taskDetailText">Info</label>
                        <textarea id="taskDetailText" required="required">{{this.text}}</textarea>
                    </div>
                    <div class="inputFieldDate">
                        <div class="inputFieldDatePart">
                            <label for="taskDetailDueDateYear">Due Year</label>
                            <input type="number" min="2016" max="2116" id="taskDetailDueDateYear" class="inputField" value={{this.dueDateYear}} onchange="ui.formatLZ(this, 4)">
                        </div>
                        <div class="inputFieldDatePart">
                            <label for="taskDetailDueDateMonth">Due Month</label>
                            <input type="number" min="1" max="12" id="taskDetailDueDateMonth" class="inputField" value={{this.dueDateMonthPlus1}} onchange="ui.formatLZ(this, 2)">
                        </div>
                        <div class="inputFieldDatePart">
                            <label for="taskDetailDueDateDay">Due Day</label>
                            <input type="number" min="1" max="31" id="taskDetailDueDateDay" class="inputField" value={{this.dueDateDay}} onchange="ui.formatLZ(this, 2)">
                        </div>
                        <div class="inputFieldDatePart">
                            <label for="taskDetailDueDateHour">Due Hour</label>
                            <input type="number" min="0" max="23" id="taskDetailDueDateHour" class="inputField" value={{this.dueDateHours}} onchange="ui.formatLZ(this, 2)">
                        </div>
                        <div class="inputFieldDatePart">
                            <label for="taskDetailDueDateMin">Due Minute</label>
                            <input type="number" min="0" max="59" id="taskDetailDueDateMin" class="inputField" value={{this.dueDateMinutes}} onchange="ui.formatLZ(this, 2)">
                        </div>
                        <div class="inputFieldDatePart">
                            <label for="taskDetailDueDateSec">Due Second</label>
                            <input type="number" min="0" max="59" id="taskDetailDueDateSec" class="inputField" value={{this.dueDateSeconds}} onchange="ui.formatLZ(this, 2)">
                        </div>
                    </div>
                    <div id="editLastRow">
                        <label for="importanceSelector">Importance
                            <select id="importanceSelector">
                                <option>0</option>
                                <option>1</option>
                                <option>2</option>
                                <option>3</option>
                                <option>4</option>
                                <option>5</option>
                            </select>
                        </label>
                        <label for="taskCompleteDetail"><input type="checkbox" id="taskCompleteDetail" value={{this.done}} name="taskComplete" onclick=ui.toggleChecked(this)> Complete</label>
                        <div id="editButtons">
                            <input type="button" id="removeButton" value="Remove" onclick="main.taskRemove({{this._id}})">
                            <input type="button"  id="cancelButton" value="Cancel" onclick="main.taskCancel({{this._id}})">
                            <input type="button" id="saveButton" value="Save" onclick="main.taskSave({{this._id}})">
                        </div>
                    </div>
                </div>
            {{/each}}
        </script>
        <script id="noTaskFound-template" type="text/x-handlebars-template">
            <div id="noTask">
                <span>No Task found!</span>
            </div>
        </script>
        <footer>
            HSR CASFEE 2016-2 | Christian Breu
        </footer>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>
        <script type="text/javascript" src="static/js/arrayWorker.js"></script>
        <script type="text/javascript" src="static/js/storageManager.js"></script>
        <script type="text/javascript" src="static/js/ui.js"></script>
        <script type="text/javascript" src="static/js/task.js"></script>
        <script type="text/javascript" src="static/js/main.js"></script>
    </body>
</html>